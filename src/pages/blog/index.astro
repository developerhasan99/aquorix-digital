---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import Navbar from "../../components/Navbar.astro";
import Footer from "../../components/Footer.astro";
import BlogCard from "../../components/BlogCard.astro";

const posts = await getCollection("blog");
const sortedPosts = posts.sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout title="Insights & Perspectives | Aquorix.digital Blog">
  <Navbar />
  <main class="py-28 md:py-32">
    <!-- Hero Header -->
    <header class="py-8">
      <div class="max-w-6xl mx-auto px-6">
        <div
          class="flex flex-col md:flex-row justify-between items-center gap-12"
        >
          <div class="max-w-3xl">
            <div
              class="inline-flex items-center gap-2 px-3 py-1 mb-8 bg-accent/10 rounded-full border border-accent/20"
            >
              <span class="w-1.5 h-1.5 rounded-full bg-accent animate-pulse"
              ></span>
              <span
                class="text-[9px] uppercase tracking-widest font-bold text-accent"
                >Journal</span
              >
            </div>
            <h1
              class="text-6xl md:text-7xl font-display font-medium leading-tight tracking-tighter mb-12"
            >
              Insights on <br />
              <span class="text-white/20">design</span>
              <span class="italic font-display text-white">&</span>
              <span class="text-white/20">tech.</span>
            </h1>
          </div>
          <div class="max-w-xs">
            <p
              class="text-sm md:text-base text-white/40 leading-relaxed font-sans"
            >
              A curated collection of thoughts, tutorials, and internal
              perspectives on the ever-evolving digital world.
            </p>
          </div>
        </div>
      </div>
    </header>

    <!-- Structural Grid Divider -->
    <div class="border-t border-white/5">
      <div class="max-w-6xl mx-auto px-6">
        <div
          class="grid grid-cols-1 md:grid-cols-2 gap-px bg-white/5 border-x border-b border-white/5"
        >
          {
            sortedPosts.map((post) => (
              <div class="bg-background">
                <BlogCard post={post} />
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </main>
  <Footer />
</Layout>

<style>
  main {
    width: 100%;
    overflow-x: hidden;
  }
</style>
